---
title: 코드 충돌과 싸워서 이기기
featured: images/whitelabel.png
layout: post
comments: true
---

다른 루키 여러분들도 대학교에서는 이번 기술교육 프로젝트처럼 조원들의 코드와 나의 코드가 상호 의존관계에 있는 프로젝트를 경험하지 못했을 것이라 생각합니다. 대학교에서 경험했던 과제는 주로 조원들과 과제를 큼지막한 부분 - 서로 상호의존적이지 않은 부분으로 나누어서 각자 부분을 해결해서 간단하게 복사,붙여넣기로 해결했었습니다.

하지만 이번 기술과제는 다릅니다. 각자 페이지를 맡아서 프런트와 백을 개발하려고 해도, 남의 코드를 이해하지 않고 대학교의 과제처럼 내것에만 집중하려고 몸부림을 쳐 봐도 팀원과의 소통, 코드간의 상호작용이 필연적입니다. 이런 필연적 상호의존 관계에 있는 기능의 예가 저희TF가 어려움을 겪었던 로그인 기능입니다.

기본적으로, 메일 서비스는 로그인이 되지 않으면 어떠한 기능도 수행할 수 없습니다. 그러므로 서비스의 모든 기능이 매끄럽게 실행되는 로그인 기능을 전제하고 있다고 할 수 있습니다.

하지만 기능들이 동작하는데 필수적이라 해도 4명이 모두 붙어서 로그인을 먼저 완성시키는 것음 매우 비효율적인 일이고, 저희 TF는 로그인과 다른기능들을 역할분담을 통해 병렬 개발했습니다. 다른 TF도 다르지 않았을 것이라 생각합니다.

인박스와 보낸메일함 등 다른 기능들이 개발이 서서히 완료되면서 저희는 고민에 빠졌습니다. 로그인 인스턴스가 완성되지 않은 상태에서 다른 기능들의 동작을 테스팅 하는것이 불가능한 것입니다. UUID와 쿠키연동 등은 테스팅을 위해서 임의로 조작해 인풋하기가 굉장히 어렵습니다. 그래서 저희는 로그인 기능이 완료될떄까지 URL에 직접 로그인명 등 변수를 입력하고 스프링의 @RequestParam 을 사용해서 변수를 받는 방식으로 다른 기능을 테스트/완성시켰습니다.

다른 기능들이 우수하게 작동하는 것을 확인한 다음, 로그인 인스턴스가 완성되면서 문제가 터지기 시작했습니다. 로그인 인스턴스가 없으면 접속을 무효화시키는 인터셉터와, 임시 테스팅을 위해 넣은 URL 변수. 그리고 그것에 의존하는 링크들이 충돌하여 잘 돌아가던 기능들이 고장이 나기 시작한 것입니다.

저희TF는 아직도 이 기능들이 변수를 불러오는 방식을 인스턴스로 수정하고 있으며 시행착오를 통해 많은 것을 배우고 있습니다.

이 문제를 어떻게하면 피할수 있었을까요? 아직 기술교육 3주차밖에 되지 않은 저는 아직 잘 모르겠습니다. 하지만, 분명한 것은 협업과 소통을 통해 코드간의 필연적 의존관계에서 나오는 오류를 해결해 나가야 한다는 점입니다.

기술교육 완료 후, 이 글을 되돌아보며 명확한 해답과 개선점을 제시할 수 있어질 미래의 저의 모습을 기대 합니다.
